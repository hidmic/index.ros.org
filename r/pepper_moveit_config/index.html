<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Index</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    <link rel="canonical" href="https://ros-infrastructure.github.io/index.ros.org//index.ros.org/r/pepper_moveit_config/">
    <link rel="stylesheet" type="text/css" href="/index.ros.org/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/index.ros.org/css/main.css">
    

    <script type="text/javascript" src=/index.ros.org/js/jquery.js></script>
    <script src=/index.ros.org/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/index.ros.org/js/jquery-cookie-1.4.1/jquery.cookie.js type="text/javascript"></script>

    <script type="text/javascript" src=/index.ros.org/js/ga.js async></script>
    <script type="text/javascript" src=/index.ros.org/js/toc.js></script>
    
    <script src=/index.ros.org/js/distro_switch.js></script>

    <!-- Pre-fetch search index files -->
    
    
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">


        <div class="col-sm-12 col-md-9" style="margin-top: 8px">
          <div class="row">
            <!-- title -->
            <div class="col-xs-12 col-sm-3 col-md-3" style="white-space:nowrap;">
              <a class="site-title" href="/index.ros.org/">ROS Index</a> <sup><a href="https://github.com/rosindex/rosindex/issues/new" style="vertical-align:super;" class="label label-warning" target="_blank">BETA</a></sup>
            </div>

            <!-- main links -->
            <div class="col-xs-12 col-sm-9 col-md-9 text-right">
              <ul class="list-inline" style="margin-bottom:0px;">
                <li><a class="btn btn-link" href="/index.ros.org/about">About</a></li>

                <li class="dropdown">
                  <button id="dLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Index <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    <li><a href="/index.ros.org/packages/page/1/time/">Package List</a></li>
                    <li><a href="/index.ros.org/repos/page/1/time/">Repository List</a></li>

                    <li class="hidden" class="divider"></li>


                    <li class="hidden"><a href="/srvs/">Nodes</a></li>
                    <li class="hidden"><a href="/msgs/">Messages</a></li>
                    <li class="hidden"><a href="/srvs/">Services</a></li>
                    <li class="hidden"><a href="/srvs/">Plugins</a></li>

                    <li class="divider"></li>

                    <li><a href="/index.ros.org/deps/">System Dependencies</a></li>
                  </ul>
                </li>

                <li class="dropdown disabled">
                  <button id="dLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Doc <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                          <li><a href="/index.ros.org/doc/ros2_overview">ROS2 Overview</a></li>
                        
                      
                    
                    <li class="hidden" class="divider"></li>

                    <li class="hidden"><a href="/index.ros.org/doc/tutorials">Tutorials</a></li>
                    <li class="hidden"><a href="/index.ros.org/doc/readmes">Readmes</a></li>
                    <li class="hidden"><a href="/index.ros.org/doc/apis">APIs</a></li>
                  </ul>
                </li>

                <li><a class="btn btn-link" href="/index.ros.org/contribute">Contribute</a></li>
                <li><a class="btn btn-link" href="/index.ros.org/stats">Stats</a></li>
              </ul>

            </div>
          </div>
        </div>

        <!-- searchbox -->
        <div class="col-sm-12 col-md-3" style="margin-top: 12px">
          <form action="/index.ros.org/search/" role="form" method="get">
            <div class="input-group input-group-sm">
              <input type="text" class="form-control" name="q" placeholder="Search ROS packages">
              <span class="input-group-btn">
                <button class="btn btn-default btn-sm" type="submit"><span class="glyphicon glyphicon-search"></span></button>
              </span>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!--
    <a class="site-title" href="/index.ros.org/">ROS Index</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        <a class="page-link" href="/packages">Packages</a>
        <a class="page-link" href="/repos">Repositories</a>
        <a class="page-link" href="/search">Search</a>
      </div>
    </nav>
    -->

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top:20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/index.ros.org/">Home</a></li>
        <li><a href="/index.ros.org/repos">Repos</a></li>
        <li class="active">pepper_moveit_config</li>
        <!--<li class="active">pepper_moveit_config</li>-->
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="bouncy-option" class="distro-button btn btn-xs btn-default" href="#bouncy" data="bouncy">
      <input type="radio" name="options" id="bouncy-radio" autocomplete="off"> bouncy
    </label>
  
    <label id="melodic-option" class="distro-button btn btn-xs btn-default" href="#melodic" data="melodic">
      <input type="radio" name="options" id="melodic-radio" autocomplete="off"> melodic
    </label>
  
    <label id="lunar-option" class="distro-button btn btn-xs btn-default" href="#lunar" data="lunar">
      <input type="radio" name="options" id="lunar-radio" autocomplete="off"> lunar
    </label>
  
    <label id="kinetic-option" class="distro-button btn btn-xs btn-primary" href="#kinetic" data="kinetic">
      <input type="radio" name="options" id="kinetic-radio" autocomplete="off"> kinetic
    </label>
  
    <label id="indigo-option" class="distro-button btn btn-xs btn-primary" href="#indigo" data="indigo">
      <input type="radio" name="options" id="indigo-radio" autocomplete="off"> indigo
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-primary" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="ardent" id="ardent-option" class="disabled older-distro-option"  href="#ardent">
          <a href="#ardent" data="ardent" id="ardent-button">ardent</a>
        </li>
      
        <li data="jade" id="jade-option" class=" older-distro-option"  href="#jade">
          <a href="#jade" data="jade" id="jade-button">jade</a>
        </li>
      
        <li data="hydro" id="hydro-option" class="disabled older-distro-option"  href="#hydro">
          <a href="#hydro" data="hydro" id="hydro-button">hydro</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
    <div class="row">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src=/index.ros.org/assets/repo.png>
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/index.ros.org/r/pepper_moveit_config">pepper_moveit_config</a> <small>repository</small></h3>
        
      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 50px">
          <a type="button" class="btn btn-xs btn-default" data-toggle="tooltip" data-placement="left" title="View Instances" 
            href="/index.ros.org/repos/pepper_moveit_config"><span class="glyphicon glyphicon-th"></span></a>
        </div>
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-ros-naoqi-pepper_moveit_config
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-ros-naoqi-pepper_moveit_config" role="menuitem" tabindex="-1" href="/index.ros.org/r/pepper_moveit_config/github-ros-naoqi-pepper_moveit_config" data="github-ros-naoqi-pepper_moveit_config">
                    <span class="glyphicon glyphicon-star"></span>
                    github-ros-naoqi-pepper_moveit_config
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

    </div>
  </div>
</div>


  <div class="distro distro-bouncy">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>bouncy</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>melodic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-lunar">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>lunar</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-kinetic">
    <div class="container-fluid">
      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            

  <table class="table table-condensed">
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/ros-naoqi/pepper_moveit_config.git">https://github.com/ros-naoqi/pepper_moveit_config.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2017-01-18
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/index.ros.org/p/pepper_moveit_config/github-ros-naoqi-pepper_moveit_config">pepper_moveit_config</a></td>
                    <td>0.0.8</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><div class="rendered-markdown">
<p>pepper_moveit_config ===================</p>

<p>This is a MoveIt! config package generated by the MoveIt! wizard. It
requires a Pepper model which you can get from here:</p>

<p><a href="https://github.com/ros-naoqi/pepper_robot/tree/master/pepper_description">https://github.com/ros-naoqi/pepper_robot/tree/master/pepper_description</a>
or from the binary package : ros-indigo-pepper-description</p>

<p>The moveit package must be run on a remote computer and not directly on
your robot.</p>

<h1 id="1-compile-the-package">1 Compile the package</h1>

<p>pepper_moveit_config package doesn't need any compilation so running
rospack profile should be enough.</p>

<p>And your ready to play with your Pepper</p>

<h1 id="2-run-moveit">2 Run MoveIt</h1>

<p>Without a robot -------------You can run this moveit package either
unconnected to any robot or attached to a robot (real or simulated): For
a standalone execution :</p>
<div class="highlight"><pre><code class="language-.sourceCode .bash" data-lang=".sourceCode .bash">roslaunch pepper_moveit_config demo.launch

</code></pre></div>
<p>Once launching the demo, you should see the robot in MoveIt! GUI like
this:</p>

<p><img src="https://raw.githubusercontent.com/ros-naoqi/pepper_moveit_config/master//tuto/moveit_launch.png" alt="image">{width="100%"}</p>

<p>Check the box Allow Approximate IK Solutions (and optionally, choose the
Planning library), and you are ready to control the robot.</p>

<h2 id="on-a-real-robot">On a real robot</h2>

<p>To use MoveIt! on a real robot, you need to instanciate ROS controllers
on the robot. To do so, you need:</p>

<ul>
<li>  <a href="https://github.com/ros-naoqi/pepper_dcm_robot">pepper_dcm_bringup</a>
</li>
<li>  <a href="https://github.com/ros-naoqi/pepper_virtual">pepper_control</a>
</li>
</ul>

<p>First, set NAO_IP environment variable to your robot's IP address:</p>
<div class="highlight"><pre><code class="language-.sourceCode .bash" data-lang=".sourceCode .bash">export NAO_IP=&lt;YOUR_ROBOT_IP&gt;

</code></pre></div>
<p>Launch the DCM bringup:</p>
<div class="highlight"><pre><code class="language-.sourceCode .bash" data-lang=".sourceCode .bash">roslaunch pepper_dcm_bringup pepper_bringup.launch

</code></pre></div>
<p>Wait until it is ready, then run:</p>
<div class="highlight"><pre><code class="language-.sourceCode .bash" data-lang=".sourceCode .bash">roslaunch pepper_moveit_config moveit_planner.launch

</code></pre></div>
<p>Using visual data from the robot's cameras</p>

<p>It is possible to integrate visual data from the robot's cameras into
MoveIt that can be useful for obstacle detection. There are several ways
to acquire visual data:</p>

<ul>
<li>  using naoqi_driver</li>
</ul>
<div class="highlight"><pre><code class="language-.sourceCode .bash" data-lang=".sourceCode .bash">    roslaunch naoqi_driver naoqi_driver.launch

</code></pre></div>
<ul>
<li>  using pepper_sensors_py (get data from a single camera)</li>
</ul>
<div class="highlight"><pre><code class="language-.sourceCode .bash" data-lang=".sourceCode .bash">    roslaunch pepper_sensors_py camera.launch

</code></pre></div>
<div class="highlight"><pre><code class="language-" data-lang="">If you would like to do obstacle detection based on Octomap library
integrated in MoveIt, then change the active camera to the depth
camera through rqt\_reconfigure. You can also tune acquisition
parameters if needed:
</code></pre></div>
<div class="highlight"><pre><code class="language-.sourceCode .bash" data-lang=".sourceCode .bash">    rosrun rqt_reconfigure rqt_reconfigure

</code></pre></div>
<p>Once depth data are available, you could configure Octomap to represents
the robot's space as a set of occupied and free voxels.</p>

<p><img src="https://raw.githubusercontent.com/ros-naoqi/pepper_moveit_config/master//tuto/moveit_octomap.png" alt="image">{width="100%"}</p>

<h2 id="on-a-simulated-robot-in-gazebo">On a simulated robot (in Gazebo)</h2>

<p>To use MoveIt! with Gazebo simulation, you need:</p>

<p>:   -   <a href="https://github.com/ros-naoqi/pepper_dcm_robot">pepper_dcm_bringup</a>
    -   <a href="https://github.com/ros-naoqi/pepper_virtual">pepper_control</a>
    -   <a href="https://github.com/ros-naoqi/pepper_virtual">pepper_gazebo_plugin</a></p>

<p>Launch Gazebo, like this:</p>
<div class="highlight"><pre><code class="language-.sourceCode .bash" data-lang=".sourceCode .bash">roslaunch pepper_gazebo_plugin pepper_gazebo_plugin_Y20.launch

</code></pre></div>
<p>Wait until it is ready, then click on the Play button in Gazebo.</p>

<p>Finally, start MoveIt!:</p>
<div class="highlight"><pre><code class="language-.sourceCode .bash" data-lang=".sourceCode .bash">roslaunch pepper_moveit_config moveit_planner.launch

</code></pre></div>
<h1 id="3-use-moveit">3 Use Moveit:</h1>

<p>Go to MoveIt GUI, and check the box "Allow approximate IK Solutions" on
the bottom of the left control panel. Then, go to the Planning tab.</p>

<p>Select which part of the robot you want to move: In the plugin list, go
to MotionPlanning/Planning Request/Planning Group and choose a roobot's
part to control. You should see an interactive marker on the chosen
robot's part.</p>

<p>Now, you can control the robot by drag and dropping the interactive
markers. Then, you can compute a trajectory to reach the new position,
by clicking the 'Planning' button on the Planning tab. Once you
satisfied by the planned trajectory, you can try it on your real robot
by using 'Execute' and/or 'Plan and execute' buttons.</p>

<p>NOTE: The start state is not updated automatically, you have to go to
'Select Start State' select 'Current' and click 'Update'.</p>
</div></body></html>

            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-indigo">
    <div class="container-fluid">
      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            

  <table class="table table-condensed">
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/ros-naoqi/pepper_moveit_config.git">https://github.com/ros-naoqi/pepper_moveit_config.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2017-01-18
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/index.ros.org/p/pepper_moveit_config/github-ros-naoqi-pepper_moveit_config">pepper_moveit_config</a></td>
                    <td>0.0.8</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><div class="rendered-markdown">
<p>pepper_moveit_config ===================</p>

<p>This is a MoveIt! config package generated by the MoveIt! wizard. It
requires a Pepper model which you can get from here:</p>

<p><a href="https://github.com/ros-naoqi/pepper_robot/tree/master/pepper_description">https://github.com/ros-naoqi/pepper_robot/tree/master/pepper_description</a>
or from the binary package : ros-indigo-pepper-description</p>

<p>The moveit package must be run on a remote computer and not directly on
your robot.</p>

<h1 id="1-compile-the-package">1 Compile the package</h1>

<p>pepper_moveit_config package doesn't need any compilation so running
rospack profile should be enough.</p>

<p>And your ready to play with your Pepper</p>

<h1 id="2-run-moveit">2 Run MoveIt</h1>

<p>Without a robot -------------You can run this moveit package either
unconnected to any robot or attached to a robot (real or simulated): For
a standalone execution :</p>
<div class="highlight"><pre><code class="language-.sourceCode .bash" data-lang=".sourceCode .bash">roslaunch pepper_moveit_config demo.launch

</code></pre></div>
<p>Once launching the demo, you should see the robot in MoveIt! GUI like
this:</p>

<p><img src="https://raw.githubusercontent.com/ros-naoqi/pepper_moveit_config/master//tuto/moveit_launch.png" alt="image">{width="100%"}</p>

<p>Check the box Allow Approximate IK Solutions (and optionally, choose the
Planning library), and you are ready to control the robot.</p>

<h2 id="on-a-real-robot">On a real robot</h2>

<p>To use MoveIt! on a real robot, you need to instanciate ROS controllers
on the robot. To do so, you need:</p>

<ul>
<li>  <a href="https://github.com/ros-naoqi/pepper_dcm_robot">pepper_dcm_bringup</a>
</li>
<li>  <a href="https://github.com/ros-naoqi/pepper_virtual">pepper_control</a>
</li>
</ul>

<p>First, set NAO_IP environment variable to your robot's IP address:</p>
<div class="highlight"><pre><code class="language-.sourceCode .bash" data-lang=".sourceCode .bash">export NAO_IP=&lt;YOUR_ROBOT_IP&gt;

</code></pre></div>
<p>Launch the DCM bringup:</p>
<div class="highlight"><pre><code class="language-.sourceCode .bash" data-lang=".sourceCode .bash">roslaunch pepper_dcm_bringup pepper_bringup.launch

</code></pre></div>
<p>Wait until it is ready, then run:</p>
<div class="highlight"><pre><code class="language-.sourceCode .bash" data-lang=".sourceCode .bash">roslaunch pepper_moveit_config moveit_planner.launch

</code></pre></div>
<p>Using visual data from the robot's cameras</p>

<p>It is possible to integrate visual data from the robot's cameras into
MoveIt that can be useful for obstacle detection. There are several ways
to acquire visual data:</p>

<ul>
<li>  using naoqi_driver</li>
</ul>
<div class="highlight"><pre><code class="language-.sourceCode .bash" data-lang=".sourceCode .bash">    roslaunch naoqi_driver naoqi_driver.launch

</code></pre></div>
<ul>
<li>  using pepper_sensors_py (get data from a single camera)</li>
</ul>
<div class="highlight"><pre><code class="language-.sourceCode .bash" data-lang=".sourceCode .bash">    roslaunch pepper_sensors_py camera.launch

</code></pre></div>
<div class="highlight"><pre><code class="language-" data-lang="">If you would like to do obstacle detection based on Octomap library
integrated in MoveIt, then change the active camera to the depth
camera through rqt\_reconfigure. You can also tune acquisition
parameters if needed:
</code></pre></div>
<div class="highlight"><pre><code class="language-.sourceCode .bash" data-lang=".sourceCode .bash">    rosrun rqt_reconfigure rqt_reconfigure

</code></pre></div>
<p>Once depth data are available, you could configure Octomap to represents
the robot's space as a set of occupied and free voxels.</p>

<p><img src="https://raw.githubusercontent.com/ros-naoqi/pepper_moveit_config/master//tuto/moveit_octomap.png" alt="image">{width="100%"}</p>

<h2 id="on-a-simulated-robot-in-gazebo">On a simulated robot (in Gazebo)</h2>

<p>To use MoveIt! with Gazebo simulation, you need:</p>

<p>:   -   <a href="https://github.com/ros-naoqi/pepper_dcm_robot">pepper_dcm_bringup</a>
    -   <a href="https://github.com/ros-naoqi/pepper_virtual">pepper_control</a>
    -   <a href="https://github.com/ros-naoqi/pepper_virtual">pepper_gazebo_plugin</a></p>

<p>Launch Gazebo, like this:</p>
<div class="highlight"><pre><code class="language-.sourceCode .bash" data-lang=".sourceCode .bash">roslaunch pepper_gazebo_plugin pepper_gazebo_plugin_Y20.launch

</code></pre></div>
<p>Wait until it is ready, then click on the Play button in Gazebo.</p>

<p>Finally, start MoveIt!:</p>
<div class="highlight"><pre><code class="language-.sourceCode .bash" data-lang=".sourceCode .bash">roslaunch pepper_moveit_config moveit_planner.launch

</code></pre></div>
<h1 id="3-use-moveit">3 Use Moveit:</h1>

<p>Go to MoveIt GUI, and check the box "Allow approximate IK Solutions" on
the bottom of the left control panel. Then, go to the Planning tab.</p>

<p>Select which part of the robot you want to move: In the plugin list, go
to MotionPlanning/Planning Request/Planning Group and choose a roobot's
part to control. You should see an interactive marker on the chosen
robot's part.</p>

<p>Now, you can control the robot by drag and dropping the interactive
markers. Then, you can compute a trajectory to reach the new position,
by clicking the 'Planning' button on the Planning tab. Once you
satisfied by the planned trajectory, you can try it on your real robot
by using 'Execute' and/or 'Plan and execute' buttons.</p>

<p>NOTE: The start state is not updated automatically, you have to go to
'Select Start State' select 'Current' and click 'Update'.</p>
</div></body></html>

            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-ardent">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>ardent</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-jade">
    <div class="container-fluid">
      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            

  <table class="table table-condensed">
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/ros-naoqi/pepper_moveit_config.git">https://github.com/ros-naoqi/pepper_moveit_config.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2017-01-18
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/index.ros.org/p/pepper_moveit_config/github-ros-naoqi-pepper_moveit_config">pepper_moveit_config</a></td>
                    <td>0.0.8</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><div class="rendered-markdown">
<p>pepper_moveit_config ===================</p>

<p>This is a MoveIt! config package generated by the MoveIt! wizard. It
requires a Pepper model which you can get from here:</p>

<p><a href="https://github.com/ros-naoqi/pepper_robot/tree/master/pepper_description">https://github.com/ros-naoqi/pepper_robot/tree/master/pepper_description</a>
or from the binary package : ros-indigo-pepper-description</p>

<p>The moveit package must be run on a remote computer and not directly on
your robot.</p>

<h1 id="1-compile-the-package">1 Compile the package</h1>

<p>pepper_moveit_config package doesn't need any compilation so running
rospack profile should be enough.</p>

<p>And your ready to play with your Pepper</p>

<h1 id="2-run-moveit">2 Run MoveIt</h1>

<p>Without a robot -------------You can run this moveit package either
unconnected to any robot or attached to a robot (real or simulated): For
a standalone execution :</p>
<div class="highlight"><pre><code class="language-.sourceCode .bash" data-lang=".sourceCode .bash">roslaunch pepper_moveit_config demo.launch

</code></pre></div>
<p>Once launching the demo, you should see the robot in MoveIt! GUI like
this:</p>

<p><img src="https://raw.githubusercontent.com/ros-naoqi/pepper_moveit_config/master//tuto/moveit_launch.png" alt="image">{width="100%"}</p>

<p>Check the box Allow Approximate IK Solutions (and optionally, choose the
Planning library), and you are ready to control the robot.</p>

<h2 id="on-a-real-robot">On a real robot</h2>

<p>To use MoveIt! on a real robot, you need to instanciate ROS controllers
on the robot. To do so, you need:</p>

<ul>
<li>  <a href="https://github.com/ros-naoqi/pepper_dcm_robot">pepper_dcm_bringup</a>
</li>
<li>  <a href="https://github.com/ros-naoqi/pepper_virtual">pepper_control</a>
</li>
</ul>

<p>First, set NAO_IP environment variable to your robot's IP address:</p>
<div class="highlight"><pre><code class="language-.sourceCode .bash" data-lang=".sourceCode .bash">export NAO_IP=&lt;YOUR_ROBOT_IP&gt;

</code></pre></div>
<p>Launch the DCM bringup:</p>
<div class="highlight"><pre><code class="language-.sourceCode .bash" data-lang=".sourceCode .bash">roslaunch pepper_dcm_bringup pepper_bringup.launch

</code></pre></div>
<p>Wait until it is ready, then run:</p>
<div class="highlight"><pre><code class="language-.sourceCode .bash" data-lang=".sourceCode .bash">roslaunch pepper_moveit_config moveit_planner.launch

</code></pre></div>
<p>Using visual data from the robot's cameras</p>

<p>It is possible to integrate visual data from the robot's cameras into
MoveIt that can be useful for obstacle detection. There are several ways
to acquire visual data:</p>

<ul>
<li>  using naoqi_driver</li>
</ul>
<div class="highlight"><pre><code class="language-.sourceCode .bash" data-lang=".sourceCode .bash">    roslaunch naoqi_driver naoqi_driver.launch

</code></pre></div>
<ul>
<li>  using pepper_sensors_py (get data from a single camera)</li>
</ul>
<div class="highlight"><pre><code class="language-.sourceCode .bash" data-lang=".sourceCode .bash">    roslaunch pepper_sensors_py camera.launch

</code></pre></div>
<div class="highlight"><pre><code class="language-" data-lang="">If you would like to do obstacle detection based on Octomap library
integrated in MoveIt, then change the active camera to the depth
camera through rqt\_reconfigure. You can also tune acquisition
parameters if needed:
</code></pre></div>
<div class="highlight"><pre><code class="language-.sourceCode .bash" data-lang=".sourceCode .bash">    rosrun rqt_reconfigure rqt_reconfigure

</code></pre></div>
<p>Once depth data are available, you could configure Octomap to represents
the robot's space as a set of occupied and free voxels.</p>

<p><img src="https://raw.githubusercontent.com/ros-naoqi/pepper_moveit_config/master//tuto/moveit_octomap.png" alt="image">{width="100%"}</p>

<h2 id="on-a-simulated-robot-in-gazebo">On a simulated robot (in Gazebo)</h2>

<p>To use MoveIt! with Gazebo simulation, you need:</p>

<p>:   -   <a href="https://github.com/ros-naoqi/pepper_dcm_robot">pepper_dcm_bringup</a>
    -   <a href="https://github.com/ros-naoqi/pepper_virtual">pepper_control</a>
    -   <a href="https://github.com/ros-naoqi/pepper_virtual">pepper_gazebo_plugin</a></p>

<p>Launch Gazebo, like this:</p>
<div class="highlight"><pre><code class="language-.sourceCode .bash" data-lang=".sourceCode .bash">roslaunch pepper_gazebo_plugin pepper_gazebo_plugin_Y20.launch

</code></pre></div>
<p>Wait until it is ready, then click on the Play button in Gazebo.</p>

<p>Finally, start MoveIt!:</p>
<div class="highlight"><pre><code class="language-.sourceCode .bash" data-lang=".sourceCode .bash">roslaunch pepper_moveit_config moveit_planner.launch

</code></pre></div>
<h1 id="3-use-moveit">3 Use Moveit:</h1>

<p>Go to MoveIt GUI, and check the box "Allow approximate IK Solutions" on
the bottom of the left control panel. Then, go to the Planning tab.</p>

<p>Select which part of the robot you want to move: In the plugin list, go
to MotionPlanning/Planning Request/Planning Group and choose a roobot's
part to control. You should see an interactive marker on the chosen
robot's part.</p>

<p>Now, you can control the robot by drag and dropping the interactive
markers. Then, you can compute a trajectory to reach the new position,
by clicking the 'Planning' button on the Planning tab. Once you
satisfied by the planned trajectory, you can try it on your real robot
by using 'Execute' and/or 'Plan and execute' buttons.</p>

<p>NOTE: The start state is not updated automatically, you have to go to
'Select Start State' select 'Current' and click 'Update'.</p>
</div></body></html>

            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-hydro">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>hydro</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>



      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-4 col-md-4">
          
            <a href="https://github.com/rosindex">
            <span class="icon  icon--github">
              <svg viewBox="0 0 16 16">
                <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>

            <span class="username">rosindex</span>
          </a>
          |
          <em>generated on 2018-09-25</em>
        
        </div>
        <div class="col-sm-8 col-md-8 text-right">
          <p class="text">a community-maintained index of robotics software
 | <a href="/index.ros.org/privacy.txt">privacy</a></p>
        </div>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
