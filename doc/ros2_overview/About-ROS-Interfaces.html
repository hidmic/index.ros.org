<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Interfaces</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    <link rel="canonical" href="https://ros-infrastructure.github.io/index.ros.org//index.ros.org/doc/ros2_overview/About-ROS-Interfaces.html">
    <link rel="stylesheet" type="text/css" href="/index.ros.org/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/index.ros.org/css/main.css">
    

    <script type="text/javascript" src=/index.ros.org/js/jquery.js></script>
    <script src=/index.ros.org/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/index.ros.org/js/jquery-cookie-1.4.1/jquery.cookie.js type="text/javascript"></script>

    <script type="text/javascript" src=/index.ros.org/js/ga.js async></script>
    <script type="text/javascript" src=/index.ros.org/js/toc.js></script>
    
    <script src=/index.ros.org/js/distro_switch.js></script>

    <!-- Pre-fetch search index files -->
    
    
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">


        <div class="col-sm-12 col-md-9" style="margin-top: 8px">
          <div class="row">
            <!-- title -->
            <div class="col-xs-12 col-sm-3 col-md-3" style="white-space:nowrap;">
              <a class="site-title" href="/index.ros.org/">ROS Index</a> <sup><a href="https://github.com/rosindex/rosindex/issues/new" style="vertical-align:super;" class="label label-warning" target="_blank">BETA</a></sup>
            </div>

            <!-- main links -->
            <div class="col-xs-12 col-sm-9 col-md-9 text-right">
              <ul class="list-inline" style="margin-bottom:0px;">
                <li><a class="btn btn-link" href="/index.ros.org/about">About</a></li>

                <li class="dropdown">
                  <button id="dLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Index <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    <li><a href="/index.ros.org/packages/page/1/time/">Package List</a></li>
                    <li><a href="/index.ros.org/repos/page/1/time/">Repository List</a></li>

                    <li class="hidden" class="divider"></li>


                    <li class="hidden"><a href="/srvs/">Nodes</a></li>
                    <li class="hidden"><a href="/msgs/">Messages</a></li>
                    <li class="hidden"><a href="/srvs/">Services</a></li>
                    <li class="hidden"><a href="/srvs/">Plugins</a></li>

                    <li class="divider"></li>

                    <li><a href="/index.ros.org/deps/">System Dependencies</a></li>
                  </ul>
                </li>

                <li class="dropdown disabled">
                  <button id="dLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Doc <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    
                    <li>
                      <a href="/index.ros.org/doc/ros2_overview">
                        ROS2 Overview
                      </a>
                    </li>
                    
                    <li class="hidden" class="divider"></li>

                    <li class="hidden"><a href="/index.ros.org/doc/tutorials">Tutorials</a></li>
                    <li class="hidden"><a href="/index.ros.org/doc/readmes">Readmes</a></li>
                    <li class="hidden"><a href="/index.ros.org/doc/apis">APIs</a></li>
                  </ul>
                </li>

                <li><a class="btn btn-link" href="/index.ros.org/contribute">Contribute</a></li>
                <li><a class="btn btn-link" href="/index.ros.org/stats">Stats</a></li>
              </ul>

            </div>
          </div>
        </div>

        <!-- searchbox -->
        <div class="col-sm-12 col-md-3" style="margin-top: 12px">
          <form action="/index.ros.org/search/" role="form">
            <div class="input-group input-group-sm">
              <input type="text" class="form-control" name="q" placeholder="Search">
              <span class="input-group-btn">
                <button class="btn btn-default btn-sm" type="submit"><span class="glyphicon glyphicon-search"></span></button>
              </span>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!--
    <a class="site-title" href="/index.ros.org/">ROS Index</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        <a class="page-link" href="/packages">Packages</a>
        <a class="page-link" href="/repos">Repositories</a>
        <a class="page-link" href="/search">Search</a>
      </div>
    </nav>
    -->

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top:20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/index.ros.org/">Home</a></li>
        
        <li class="active">ROS Interfaces</li>
      </ol>
    </div>
    <div class="row">
      <div class="col-md-10">
        <h1 id="ros-interfaces">ROS Interfaces</h1>

<h2 id="1-background">1. Background</h2>

<p>ROS applications typically communicate through interfaces of one of two types: messages and services.
ROS uses a simplified description language to describe these interfaces. This description makes it easy for ROS tools to automatically generate source code for the interface type in several target languages.</p>

<p>In this document we will describe the supported types and how to create your own msg/srv files.</p>

<h2 id="2-message-description-specification">2. Message Description Specification</h2>

<p>Messages description are defined in <code>.msg</code> files in the <code>msg/</code> directory of a ROS package.
<code>.msg</code> files are composed of two parts: fields and constants.</p>

<h3 id="2-1-fields">2.1 Fields</h3>

<p>Each field consists of a type and a name, separated by a space, i.e:
<code>
fieldtype1 fieldname1
fieldtype2 fieldname2
fieldtype3 fieldname3
</code></p>

<p>For example:
<code>
int32 my_int
string my_string
</code></p>

<h4 id="2-1-1-field-types">2.1.1 Field Types</h4>

<p>Field types can be:
* a built-in-type
* names of Message description defined on their own, such as &quot;geometry_msgs/PoseStamped&quot;</p>

<p><em>built-in-types currently supported:</em></p>

<table><thead>
<tr>
<th>Type name</th>
<th><a href="http://design.ros2.org/articles/generated_interfaces_cpp.html">C++</a></th>
<th><a href="http://design.ros2.org/articles/generated_interfaces_python.html">Python</a></th>
<th><a href="http://design.ros2.org/articles/mapping_dds_types.html">DDS type</a></th>
</tr>
</thead><tbody>
<tr>
<td>bool</td>
<td>bool</td>
<td>builtins.bool</td>
<td>boolean</td>
</tr>
<tr>
<td>byte</td>
<td>uint8_t</td>
<td>builtins.bytes*</td>
<td>octet</td>
</tr>
<tr>
<td>char</td>
<td>char</td>
<td>builtins.str*</td>
<td>char</td>
</tr>
<tr>
<td>float32</td>
<td>float</td>
<td>builtins.float*</td>
<td>float</td>
</tr>
<tr>
<td>float64</td>
<td>double</td>
<td>builtins.float*</td>
<td>double</td>
</tr>
<tr>
<td>int8</td>
<td>int8_t</td>
<td>builtins.int*</td>
<td>octet</td>
</tr>
<tr>
<td>uint8</td>
<td>uint8_t</td>
<td>builtins.int*</td>
<td>octet</td>
</tr>
<tr>
<td>int16</td>
<td>int16_t</td>
<td>builtins.int*</td>
<td>short</td>
</tr>
<tr>
<td>uint16</td>
<td>uint16_t</td>
<td>builtins.int*</td>
<td>unsigned short</td>
</tr>
<tr>
<td>int32</td>
<td>int32_t</td>
<td>builtins.int*</td>
<td>long</td>
</tr>
<tr>
<td>uint32</td>
<td>uint32_t</td>
<td>builtins.int*</td>
<td>unsigned long</td>
</tr>
<tr>
<td>int64</td>
<td>int64_t</td>
<td>builtins.int*</td>
<td>long long</td>
</tr>
<tr>
<td>uint64</td>
<td>uint64_t</td>
<td>builtins.int*</td>
<td>unsigned long long</td>
</tr>
<tr>
<td>string</td>
<td>std::string</td>
<td>builtins.str</td>
<td>string</td>
</tr>
</tbody></table>

<p><em>Every built-in-type can be used to define arrays:</em></p>

<table><thead>
<tr>
<th>Type name</th>
<th><a href="http://design.ros2.org/articles/generated_interfaces_cpp.html">C++</a></th>
<th><a href="http://design.ros2.org/articles/generated_interfaces_python.html">Python</a></th>
<th><a href="http://design.ros2.org/articles/mapping_dds_types.html">DDS type</a></th>
</tr>
</thead><tbody>
<tr>
<td>static array</td>
<td>std::array<T, N></td>
<td>builtins.list*</td>
<td>T[N]</td>
</tr>
<tr>
<td>unbounded dynamic array</td>
<td>std::vector</td>
<td>builtins.list</td>
<td>sequence</td>
</tr>
<tr>
<td>bounded dynamic array</td>
<td>custom_class<T, N></td>
<td>builtins.list*</td>
<td>sequence<T, N></td>
</tr>
<tr>
<td>bounded string</td>
<td>std::string</td>
<td>builtins.str*</td>
<td>string</td>
</tr>
</tbody></table>

<p>*All types that are more permissive than their ROS definition enforce the ROS constraints in range and length by software</p>

<p><em>Example of message definition using arrays and bounded types:</em>
```
int32[] unbounded_integer_array
int32[5] five_integers_array
int32[&lt;=5] up_to_five_integers_array</p>

<p>string string_of_unbounded_size
string&lt;=10 up_to_ten_characters_string</p>

<p>string[&lt;=5] up_to_five_unbounded_strings
string&lt;=10[] unbounded_array_of_string_up_to_ten_characters each
string&lt;=10[&lt;=5] up_to_five_strings_up_to_ten_characters_each
```</p>

<h4 id="2-1-2-field-names">2.1.2 Field Names</h4>

<p>Field names must be lowercase alphanumeric characters with underscores for separating words. They must start with an alphabetic character, they must not end with an underscore and never have two consecutive underscores.</p>

<h4 id="2-1-3-field-default-value">2.1.3 Field Default Value</h4>

<p>Default values can be set to any field in the message type.
Currently default values are not supported for string arrays and complex types (i.e. types not present in the built-in-types table above, that applies to all nested messages)</p>

<p>Defining a default value is done by adding a third element to the field definition line, i.e:
<code>
fieldtype fieldname fielddefaultvalue
</code></p>

<p>For example:
<code>
uint8 x 42
int16 y -2000
string full_name &quot;John Doe&quot;
int32[] samples [-200, -100, 0, 100, 200] 
</code>
Note:
- string values must be defined in single <code>&#39;</code> or double quotes <code>&quot;</code>
- currently string values are not escaped</p>

<h3 id="2-2-constants">2.2 Constants</h3>

<p>Each constant definition is like a field description with a default value, except that this value can never be changed programatically. This value assignment is indicated by use of an equal &#39;=&#39; sign, e.g.
<code>
constanttype CONSTANTNAME=constantvalue
</code>
For example:
<code>
int32 X=123
int32 Y=-123
string FOO=&quot;foo&quot;
string EXAMPLE=&#39;bar&#39;
</code></p>

<p>Note: Constants names have to be UPPERCASE</p>

<h2 id="3-service-description-specification">3. Service Description Specification</h2>

<p>Services description are defined in <code>.srv</code> files in the <code>srv/</code> directory of a ROS package.</p>

<p>A service description file consists of a request and a response msg type, separated by &#39;---&#39;. Any two .msg files concatenated together with a &#39;---&#39; are a legal service description.</p>

<p>Here is a very simple example of a service that takes in a string and returns a string:</p>
<div class="highlight"><pre><code class="language-" data-lang="">string str
---
string str
</code></pre></div>
<p>We can of course get much more complicated (if you want to refer to a message from the same package you must not mention the package name):</p>
<div class="highlight"><pre><code class="language-" data-lang="">#request constants
int8 FOO=1
int8 BAR=2
#request fields
int8 foobar
another_pkg/AnotherMessage msg
---
#response constants
uint32 SECRET=123456
#response fields
another_pkg/YetAnotherMessage val
CustomMessageDefinedInThisPackage value
uint32 an_integer
</code></pre></div>
<p>You cannot embed another service inside of a service.</p>

      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
$(document).ready(
    function() {
      $('#toc').toc({
        title: '',
        listType: 'ul',
        showSpeed: 0,
        headers: 'h2, h3' });
});
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-4 col-md-4">
          
            <a href="https://github.com/rosindex">
            <span class="icon  icon--github">
              <svg viewBox="0 0 16 16">
                <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>

            <span class="username">rosindex</span>
          </a>
          |
          <em>generated on 2018-09-18</em>
        
        </div>
        <div class="col-sm-8 col-md-8 text-right">
          <p class="text">a community-maintained index of robotics software
 | <a href="/index.ros.org/privacy.txt">privacy</a></p>
        </div>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
